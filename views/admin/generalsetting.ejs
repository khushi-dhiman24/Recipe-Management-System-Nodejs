<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>General Setting | Recipe Management</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
</head>

<body>
  <%- include('header') %>
    <%- include('sidebar') %>
      <div class="message"></div>
      <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
          <div class="container-fluid">
            <div class="row mb-2">
              <div class="col-sm-6">
                <h1>General Setting</h1>
              </div>
              <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                  <li class="breadcrumb-item"><a href="/dashboard">Dashboard</a></li>
                  <li class="breadcrumb-item active">General Setting</li>
                </ol>
              </div>
            </div>
          </div><!-- /.container-fluid -->
        </section>
        <section class="content">
            <div class="container-fluid">
                <!-- form start -->
                <form class="form-horizontal" action="/admin/generalsetting/<%= general._id %>" id="updateGeneralSetting" method="POST" enctype="multipart/form-data">
                    <div class="row">
                        <!-- left column -->
                        <div class="col-md-12">
                            <!-- jquery validation -->
                            <div class="card card-primary">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6 col-12">
                                            <div class="form-group row">
                                                <label>Company Logo</label>
                                                <div class="form-group">
                                                    <input type="file" class="form-control" name="image" id="image" onChange="readURL(this)">
                                                </div>
                                                <div class="col-md-9">
                                                    <img class="img-thumbnail" id="image" src="/uploads/<%= general.image %>" width="150px" height="150px">                                               
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-12">
                                            <div class="form-group">
                                                <label>Company Name</label>
                                                <input type="text" class="form-control" name="com_name" value="<%= general?.com_name || '' %>"  placeholder="Enter Name">
                                            </div>
                                            <div class="form-group">
                                                <label>Company Email</label>
                                                <input type="email" class="form-control" name="com_email"  value="<%= general?.com_email || '' %>" placeholder="Enter Email Address">
                                            </div>
                                            <div class="form-group">
                                                <label>Company Address</label>
                                                <input type="text" class="form-control" name="address"  value="<%= general?.address || '' %>" placeholder="Enter Email Address">
                                            </div>
                                            <div class="form-group">
                                                <label>Description</label>
                                                <textarea type="text" class="form-control" name="description"><%= general?.description || '' %></textarea>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-12">
                                            <!-- phone mask -->
                                            <div class="form-group">
                                                <label>Phone Number <small class="text-danger">*</small></label>
                                                <div class="input-group" >
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="fas fa-phone"></i></span>
                                                    </div>
                                                    <input type="text" name="phone" class="form-control" value="<%= general ?.phone || '' %>" data-inputmask='"mask": "(999) 999-9999"' data-mask>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-12">
                                            <div class="form-group mb-4">
                                                <label>Site Copyright</label>
                                                <input type="text" class="form-control" name="copyright" value="<%= general?.copyright || '' %>"  >
                                            </div>
                                        </div>
                                         <div class="form-group col-md-12 col-12">
                                            <input type="submit" class="btn btn-primary update-general-settings" value="Update"/>
                                        </div>
                                    </div>
                                </div>
                                <!-- /.card-body -->
                            </div>
                            <!-- /.card -->
                        </div>
                    </div>
                </form> <!-- /.form start -->
            </div><!-- /.container-fluid -->
        </section>
        </div>
</body>
</html>
<%- include('footer') %>  
<script type="text/javascript">
  
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function(e) {
                $('#image').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]); // convert to base64 string
        }
    }
</script>